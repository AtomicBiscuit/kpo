# Большое домашнее задание по КПО номер 1

#### Сокуров Идар БПИ233

## Важно

<b> Везде, где требуется ввести дату, она ожидается в формате гггг-мм-дд</b>

В условии задания не хватает примерно 80% условия,
не ясно что вообще должна делать программа, что изменять можно, а что нельзя и т.д.

В общем на каждом шаге выбирал реализацию на своё усмотрение.

## Общая структура

Проект представляет собой консольное приложение, вывод меню и обработка
ответов пользователя реализована с использованием <b>паттерна Состояние</b>.

Доменные классы вынесены в отдельную папку `domains`, для работы с
ними выделены отдельные <b>Фасады</b> (папка `facade`).
В них внедряется <b>Фабрика</b> и параметры для работы.
Поведение фабрики определяют параметры, для данного проекта реализованны
только параметры для считывания из потока ввода/вывода(папка `params`).

Для фильтрации операций создан класс `OperationFilter`(папка `filter`)
с помощью <b>паттерна Строитель</b>

Для экспорта данных написан `DataExporter`(папка `reports/export`) с <b>Шаблонным методом</b> `export`
и две реализации: для формата CSV и JSON. Преобразование java объектов в
текст нужного формата происходит благодаря <b>Посетителям</b>(папка `visitors`)

Для считывания данных из консоли написан `ConsoleHelper`(папка `helper`)

Для инъекции зависимостей используется Spring.

## Функционал

- Добавление / удаление / изменение доменных объектов
- Вывод всех существующих экземпляров в консоль
- Экспорт всех данных в форматах CSV / JSON
- Простая аналитика
    - Подсчёт сальдо баланса за указанный период
    - Вычисление общей суммы операций по всем категориям

При добавлении операции, баланс банковского счёта пересчитывается.
Аналогично происходит при удалении операции или изменении её параметров.

Удаление категории или счёта каскадом влечёт удаление всех связанных операций.
Удаление категории влечёт удаление операций, что в свою очередь обновляет состояние банковских счетов.

## Запуск

Точкой входа в приложение является файл `src/main/java/fm/App.java`.

Для сборки используется Gradle.

Для запуска можно использовать команду

```bash 
./gradlew run --console=plain
``` 